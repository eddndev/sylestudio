## Pasos para Crear un Nuevo Asset de Imagen

Sigue este proceso para añadir una nueva imagen al sistema (por ejemplo, añadir `tienda.jpg`).

1.  **Coloca el Archivo en la Carpeta de Recursos**
    Copia tu imagen a la carpeta `resources/images/` con el nombre que desees.

2.  **Crea el Registro en la Base de Datos**
    Abre tu terminal en la raíz del proyecto y ejecuta `php artisan tinker`. Dentro de la consola de Tinker, usa los siguientes comandos:

    ```php
    // Crear el registro del asset
    $asset = App\Models\SiteAsset::create([
        'original_path' => 'resources/images/syleb.png'
    ]);

    // Adjuntar el archivo y generar las conversiones (AVIF, WebP, JPG)
    $asset->addMedia(resource_path('images/syleb.png'))->preservingOriginal()->toMediaCollection();
    ```

3.  **Limpia el Caché**
    Sal de Tinker (`exit`) y ejecuta:

    ```bash
    php artisan cache:clear
    ```

Ahora puedes usar la imagen en tus vistas con `get_image('resources/images/tienda.jpg')`.

---

## Pasos para Reemplazar una Imagen

Sigue este proceso cada vez que necesites actualizar un archivo de imagen (por ejemplo, cambiar `hero.jpg` por una nueva versión).
 
1.  **Reemplaza el Archivo Fuente**
    En tu computadora, ve a la carpeta `resources/images/` y sobrescribe el archivo de imagen antiguo con el nuevo. Asegúrate de que el **nombre del archivo no cambie**.

2.  **Actualiza el Registro en la Base de Datos**
    Abre tu terminal en la raíz del proyecto y ejecuta `php artisan tinker`. Dentro de la consola de Tinker, usa los siguientes comandos, reemplazando `'resources/images/hero.jpg'` por la ruta de la imagen que estás cambiando.

    ```php
    // Encuentra el registro del asset
    $asset = App\Models\SiteAsset::where('original_path', 'resources/images/tienda.jpg')->first();

    // Elimina los archivos viejos (original y conversiones)
    $asset->clearMediaCollection();

    // Adjunta el nuevo archivo y genera las nuevas conversiones
    $asset->addMedia(resource_path('images/tienda.jpg'))->preservingOriginal()->toMediaCollection();
    ```

3.  **Limpia el Caché**
    Para asegurar que los cambios se vean inmediatamente en tu sitio, sal de Tinker (`exit`) y ejecuta el siguiente comando en tu terminal:

    ```bash
    php artisan cache:clear
    ```

Este proceso garantiza que la imagen se actualice correctamente, se regeneren todas sus versiones optimizadas y no queden archivos huérfanos en tu servidor.